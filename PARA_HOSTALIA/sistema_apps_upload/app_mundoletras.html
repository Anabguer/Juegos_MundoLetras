<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#1e3a8a">
    <meta name="description" content="Mundo Letras - Juego de sopa de letras con más de 1000 niveles">
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Mundo Letras">
    
    <title>Mundo Letras - Sopa de Letras</title>
    
    <link rel="stylesheet" href="sistema_apps_api/mundoletras/styles.css">
    
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="screen login-screen active">
        <div class="login-card">
            <img src="sistema_apps_api/mundoletras/img/Logo.png" alt="Mundo Letras" class="title-logo">
            <p class="subtitle">Juego de sopa de letras con 1000+ niveles</p>
            
            <div id="login-content">
                <button class="btn btn-primary" onclick="startAsGuest()">
                     👤 Jugar como Invitado
                </button>
                
                <button class="btn btn-secondary" onclick="showLogin()">
                    🔐 Identificarse
                </button>
                
                <button class="btn btn-secondary" onclick="showScreen('test-screen'); testLevel();" style="background: #fbbf24; color: #000; font-weight: bold;">
                    🧪 PANTALLA DE TEST
                </button>
                
            </div>
            
            <div id="message-container"></div>
        </div>
    </div>
    
    <!-- Test Screen -->
    <div id="test-screen" class="screen test-screen">
        <div class="test-container">
            <h2>🧪 Pantalla de Test</h2>
            <p>Verifica niveles, palabras y colores</p>
            
            <div class="test-controls">
                <div class="input-group">
                    <label for="test-level-input">Nivel a probar:</label>
                    <div class="level-controls">
                        <button onclick="testPreviousLevel()" class="btn btn-secondary btn-sm">← Anterior</button>
                        <input type="number" id="test-level-input" min="1" max="1000" value="1" class="test-input">
                        <button onclick="testNextLevel()" class="btn btn-secondary btn-sm">Siguiente →</button>
                    </div>
                    <button onclick="testLevel()" class="btn btn-primary">Probar Nivel</button>
                </div>
            </div>
            
            <div id="test-results" class="test-results">
                <div class="test-info">
                    <h3>Información del Nivel</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Nivel:</span>
                            <span id="test-level-display">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Tema:</span>
                            <span id="test-theme-display">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Ciclo:</span>
                            <span id="test-cycle-display">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Posición:</span>
                            <span id="test-position-display">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="test-words">
                    <h3>Palabras del Nivel</h3>
                    <div id="test-words-display" class="words-list">
                        <p>Selecciona un nivel para ver las palabras</p>
                    </div>
                </div>
                
                <div class="test-config">
                    <h3>Configuración del Nivel</h3>
                    <div id="test-config-display" class="config-list">
                        <p>Selecciona un nivel para ver la configuración</p>
                    </div>
                </div>
            </div>
            
            <div class="test-actions">
                <button onclick="showScreen('login-screen')" class="btn btn-secondary">Volver al Login</button>
                <button onclick="testRandomLevel()" class="btn btn-primary">Nivel Aleatorio</button>
            </div>
        </div>
    </div>
    
    <!-- Game Screen -->
    <div id="game-screen" class="screen game-screen">
        <!-- HUD -->
        <div class="game-hud">
            <!-- Primera lí­nea: Información del usuario -->
            <div class="hud-user-line">
                <div class="hud-item user-info">
                     <span id="user-icon">👤</span>
                    <span id="user-name">Invitado</span>
                    <span id="user-status" class="user-status-guest">Invitado</span>
                </div>
                <span id="sound-control" class="sound-control" onclick="toggleSound()" title="Activar/Desactivar sonido">🔊</span>
            </div>
            
            <!-- Segunda línea: Estadí­sticas del juego -->
            <div class="hud-stats-line">
                <div class="hud-item">
                    <span>🔥</span>
                    <span id="streak" class="hud-value">0</span>
                </div>
                <div class="hud-item">
                    <span>💰</span>
                    <span id="coins" class="hud-value">50</span>
                </div>
                <div class="hud-item">
                    <span>📊</span>
                    <span>Nivel <span id="level" class="hud-value">1</span></span>
                </div>
                <div class="hud-item">
                    <span>⏰</span>
                    <span id="level-timer" class="hud-value">0:00</span>
                </div>
                <div class="hud-item">
                    <span>💡</span>
                    <span id="hints-display" class="hud-value">0/2</span>
                </div>
                <div class="hud-item" id="dynamic-timer-display" style="display: none;">
                    <span>⏱️</span>
                    <span id="dynamic-timer" class="hud-value">120</span>
                </div>
            </div>
        </div>
        
        <!-- Display de Mecánicas Activas -->
        <div id="mechanics-display" class="mechanics-display" style="display: none;">
            <!-- Las mecánicas se mostrarán aquí­ dinámicamente -->
        </div>
        
        <!-- Game Grid -->
        <div id="game-grid" class="game-grid">
            <!-- Cells will be generated by JavaScript -->
        </div>
        
        <!-- Words List -->
        <div id="words-list" class="words-list">
            <!-- Words will be generated by JavaScript -->
        </div>
        
                <!-- Game Controls -->
        <div class="game-controls">
            <button class="btn btn-secondary btn-sm" onclick="clearSelection()" data-icon="🚫" title="Limpiar Selección">
                🚫 Limpiar Selección
            </button>
            <button class="btn btn-primary btn-sm" onclick="useHint()" id="hint-button" data-icon="💡" title="Usar Pista">
                💡 Pista
            </button>
            <button class="btn btn-secondary btn-sm" onclick="showRanking()" data-icon="🏆" title="VerRanking">
                🏆 Ranking
            </button>
            <button class="btn btn-secondary btn-sm" onclick="backToMenu()" id="back-menu-btn" data-icon="��" title="Volver al Menú">
                🏠 Volver al Menú
            </button>
            <button class="btn btn-secondary btn-sm" onclick="clearGuestProgress()" id="clear-progress-btn" style="display: none;" data-icon="—‘🔄" title="Reiniciar Progreso">
                🔄Reiniciar Progreso
            </button>
            <button class="btn btn-secondary btn-sm" onclick="logout()" id="logout-btn" style="display: none;" data-icon="🚪" title="Cerrar Sesión">
                🚪 Cerrar Sesión
            </button>
        </div>


    <!-- JavaScript externo -->
    <script src="sistema_apps_api/mundoletras/js/game.js"></script>
    <script src="sistema_apps_api/mundoletras/js/api.js"></script>
    <script src="sistema_apps_api/mundoletras/js/mechanics.js"></script>
    <script src="sistema_apps_api/mundoletras/js/grid.js"></script>
    <script src="sistema_apps_api/mundoletras/js/remaining.js"></script>
    <script>
        // Código de inicializacin y funciones no duplicadas
        
        // Inicialización cuando se carga la página
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Mundo Letras cargado');
            
            // Manejar orientación
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    window.scrollTo(0, 0);
                }, 100);
            });
        });
    </script>
</body>
</html>









